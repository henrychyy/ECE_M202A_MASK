#include <cstdarg>
namespace Eloquent {
    namespace ML {
        namespace Port {
            class SVM {
                public:
                    /**
                    * Predict class for features vector
                    */
                    int predict(float *x) {
                        float kernels[22] = { 0 };
                        float decisions[1] = { 0 };
                        int votes[2] = { 0 };
                        kernels[0] = compute_kernel(x,   10.219999  , 10.219999  , 9.559999  , 8.08  , 9.559999  , 11.44  , 12.54  , 10.86  , 8.86  , 5.1  , 10.86  , 3.62  , 0.0  , 26.599998  , 41.739998  , 20.779999  , 8.86  , 3.62  , 7.24  , 5.1  , 7.24  , 10.219999  , 10.86  , 9.559999  , 8.08  , 6.26  , 3.62  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 3.62  , 3.62  , 3.62  , 5.1  , 5.1  , 5.1  , 5.1  , 5.1  , 5.1  , 5.1  , 5.1  , 5.1  , 5.1  , 5.1  , 5.1  , 5.1  , 5.1  , 5.1  , 3.62  , 3.62  , 3.62 );
                        kernels[1] = compute_kernel(x,   9.559999  , 11.44  , 10.219999  , 7.24  , 8.08  , 9.559999  , 11.44  , 12.0  , 13.54  , 11.44  , 8.08  , 7.24  , 0.0  , 0.0  , 0.0  , 7.24  , 3.62  , 60.02  , 72.580002  , 32.579998  , 9.559999  , 6.26  , 5.1  , 8.86  , 8.86  , 8.08  , 6.26  , 3.62  , 0.0  , 0.0  , 0.0  , 0.0  , 3.62  , 3.62  , 3.62  , 3.62  , 3.62  , 0.0  , 3.62  , 3.62  , 3.62  , 3.62  , 5.1  , 5.1  , 3.62  , 5.1  , 3.62  , 3.62  , 3.62  , 3.62  , 3.62  , 3.62  , 3.62  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0 );
                        kernels[2] = compute_kernel(x,   17.719999  , 30.059999  , 20.139999  , 13.54  , 13.04  , 10.219999  , 5.1  , 16.58  , 24.539999  , 27.08  , 28.26  , 27.799999  , 26.099998  , 20.459999  , 17.359999  , 14.92  , 20.779999  , 8.86  , 0.0  , 3.62  , 5.1  , 6.26  , 6.26  , 5.1  , 3.62  , 133.139999  , 181.479996  , 87.019997  , 33.360001  , 5.1  , 8.08  , 10.219999  , 10.86  , 9.559999  , 10.219999  , 10.219999  , 8.86  , 8.08  , 6.26  , 5.1  , 3.62  , 3.62  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 3.62  , 3.62  , 3.62  , 3.62  , 3.62  , 0.0  , 0.0 );
                        kernels[3] = compute_kernel(x,   8.86  , 7.24  , 7.24  , 7.24  , 8.08  , 8.08  , 6.26  , 6.26  , 7.24  , 5.1  , 5.1  , 7.24  , 8.08  , 8.86  , 6.26  , 9.559999  , 10.86  , 8.08  , 8.08  , 7.24  , 6.26  , 5.1  , 3.62  , 3.62  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 3.62  , 6.26  , 5.1  , 3.62  , 0.0  , 0.0  , 0.0  , 0.0  , 3.62  , 3.62  , 6.26  , 8.08  , 7.24  , 5.1  , 3.62  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 3.62  , 3.62  , 3.62  , 3.62  , 3.62  , 0.0  , 0.0  , 0.0  , 0.0 );
                        kernels[4] = compute_kernel(x,   15.78  , 11.44  , 20.139999  , 14.48  , 5.1  , 13.04  , 17.359999  , 23.459999  , 22.02  , 21.4  , 20.779999  , 21.4  , 16.58  , 26.099998  , 35.82  , 14.48  , 3.62  , 5.1  , 8.08  , 17.359999  , 205.779999  , 204.300003  , 117.079994  , 39.82  , 51.059998  , 66.540001  , 66.659996  , 58.039997  , 47.739998  , 35.82  , 26.84  , 20.779999  , 16.18  , 13.04  , 9.559999  , 5.1  , 3.62  , 0.0  , 0.0  , 0.0  , 0.0  , 3.62  , 3.62  , 5.1  , 7.24  , 8.86  , 8.86  , 8.08  , 7.24  , 6.26  , 6.26  , 7.24  , 6.26  , 7.24  , 8.08  , 7.24  , 8.08  , 7.24  , 8.86  , 7.24  , 5.1  , 3.62  , 0.0  , 0.0 );
                        kernels[5] = compute_kernel(x,   7.24  , 5.1  , 5.1  , 3.62  , 3.62  , 5.1  , 10.219999  , 5.1  , 0.0  , 0.0  , 3.62  , 5.1  , 8.86  , 18.459999  , 8.86  , 6.26  , 8.86  , 10.86  , 10.86  , 8.86  , 6.26  , 3.62  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 3.62  , 3.62  , 0.0  , 3.62  , 3.62  , 0.0  , 0.0  , 3.62  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0 );
                        kernels[6] = compute_kernel(x,   15.339999  , 13.54  , 28.039999  , 18.799999  , 6.26  , 6.26  , 9.559999  , 13.04  , 19.82  , 21.1  , 22.02  , 22.879999  , 21.719999  , 20.139999  , 36.02  , 12.54  , 7.24  , 17.359999  , 122.399994  , 132.759995  , 62.48  , 27.08  , 16.58  , 22.02  , 20.459999  , 18.799999  , 16.18  , 13.04  , 11.44  , 10.219999  , 7.24  , 5.1  , 3.62  , 0.0  , 0.0  , 0.0  , 0.0  , 3.62  , 5.1  , 6.26  , 7.24  , 7.24  , 7.24  , 6.26  , 6.26  , 6.26  , 6.26  , 6.26  , 6.26  , 5.1  , 5.1  , 5.1  , 5.1  , 5.1  , 5.1  , 5.1  , 3.62  , 3.62  , 3.62  , 3.62  , 3.62  , 3.62  , 3.62  , 3.62 );
                        kernels[7] = compute_kernel(x,   11.44  , 18.1  , 6.26  , 10.86  , 5.1  , 7.24  , 14.02  , 14.48  , 15.339999  , 16.58  , 12.54  , 9.559999  , 8.86  , 8.86  , 8.08  , 8.08  , 8.86  , 9.559999  , 0.0  , 7.24  , 6.26  , 3.62  , 5.1  , 5.1  , 3.62  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0 );
                        kernels[8] = compute_kernel(x,   6.26  , 10.219999  , 10.219999  , 8.86  , 6.26  , 5.1  , 3.62  , 0.0  , 3.62  , 3.62  , 5.1  , 10.86  , 13.54  , 13.04  , 10.219999  , 8.86  , 10.86  , 10.86  , 9.559999  , 3.62  , 8.08  , 7.24  , 6.26  , 5.1  , 5.1  , 3.62  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 5.1  , 8.08  , 6.26  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0 );
                        kernels[9] = compute_kernel(x,   13.04  , 8.86  , 6.26  , 6.26  , 7.24  , 8.08  , 8.08  , 8.08  , 8.08  , 8.86  , 9.559999  , 8.86  , 8.08  , 8.08  , 3.62  , 3.62  , 6.26  , 6.26  , 5.1  , 5.1  , 5.1  , 6.26  , 6.26  , 6.26  , 5.1  , 3.62  , 3.62  , 3.62  , 3.62  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 3.62  , 3.62  , 3.62  , 3.62  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 3.62  , 3.62  , 3.62  , 3.62  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0 );
                        kernels[10] = compute_kernel(x,   18.1  , 16.98  , 33.959999  , 22.02  , 9.559999  , 8.08  , 10.86  , 15.78  , 20.459999  , 24.279999  , 25.599998  , 27.08  , 26.599998  , 24.279999  , 21.719999  , 17.719999  , 14.92  , 14.92  , 13.04  , 9.559999  , 6.26  , 3.62  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 8.08  , 14.02  , 21.1  , 15.78  , 8.08  , 0.0  , 0.0  , 3.62  , 3.62  , 3.62  , 3.62  , 5.1  , 3.62  , 3.62  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0 );
                        kernels[11] = compute_kernel(x,   3.62  , 5.1  , 3.62  , 5.1  , 5.1  , 6.26  , 7.24  , 7.24  , 7.24  , 8.08  , 10.219999  , 10.86  , 10.219999  , 9.559999  , 8.86  , 6.26  , 7.24  , 6.26  , 6.26  , 6.26  , 6.26  , 7.24  , 9.559999  , 10.219999  , 10.219999  , 10.219999  , 10.219999  , 9.559999  , 9.559999  , 8.86  , 8.86  , 8.08  , 8.08  , 7.24  , 6.26  , 5.1  , 5.1  , 3.62  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 3.62  , 5.1  , 5.1  , 5.1  , 5.1  , 5.1  , 5.1  , 5.1  , 5.1  , 3.62  , 3.62  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 3.62 );
                        kernels[12] = compute_kernel(x,   10.219999  , 5.1  , 6.26  , 8.08  , 8.86  , 8.86  , 8.08  , 8.08  , 9.559999  , 11.44  , 11.44  , 10.86  , 9.559999  , 9.559999  , 10.219999  , 8.86  , 8.86  , 8.08  , 7.24  , 8.86  , 9.559999  , 6.26  , 0.0  , 5.1  , 8.08  , 9.559999  , 11.44  , 12.54  , 13.04  , 13.04  , 12.54  , 12.0  , 11.44  , 10.86  , 9.559999  , 8.86  , 8.08  , 6.26  , 5.1  , 5.1  , 3.62  , 3.62  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0 );
                        kernels[13] = compute_kernel(x,   8.08  , 9.559999  , 10.86  , 13.04  , 14.02  , 13.54  , 11.44  , 10.86  , 10.219999  , 9.559999  , 8.08  , 6.26  , 5.1  , 3.62  , 3.62  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 3.62  , 5.1  , 6.26  , 7.24  , 8.08  , 8.86  , 8.86  , 8.08  , 7.24  , 6.26  , 6.26  , 5.1  , 3.62  , 3.62  , 3.62  , 0.0  , 0.0  , 0.0  , 0.0 );
                        kernels[14] = compute_kernel(x,   3.62  , 0.0  , 5.1  , 6.26  , 6.26  , 7.24  , 8.08  , 8.86  , 10.86  , 13.04  , 13.04  , 11.44  , 11.44  , 10.86  , 9.559999  , 9.559999  , 8.08  , 6.26  , 6.26  , 6.26  , 5.1  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 3.62  , 3.62  , 5.1  , 6.26  , 8.08  , 10.219999  , 10.86  , 10.86  , 10.219999  , 9.559999  , 8.86  , 8.86  , 8.08  , 7.24  , 6.26  , 3.62  , 3.62  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0 );
                        kernels[15] = compute_kernel(x,   5.1  , 3.62  , 0.0  , 6.26  , 8.08  , 8.86  , 8.86  , 9.559999  , 11.44  , 13.54  , 16.98  , 19.48  , 19.82  , 18.459999  , 15.78  , 19.82  , 19.82  , 14.92  , 10.86  , 12.0  , 13.54  , 11.44  , 11.44  , 14.02  , 12.0  , 3.62  , 0.0  , 3.62  , 7.24  , 10.219999  , 12.54  , 14.02  , 15.78  , 13.04  , 8.08  , 6.26  , 7.24  , 3.62  , 0.0  , 8.86  , 13.04  , 14.48  , 14.48  , 15.339999  , 15.339999  , 14.02  , 11.44  , 9.559999  , 7.24  , 6.26  , 6.26  , 5.1  , 3.62  , 3.62  , 3.62  , 3.62  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 3.62  , 5.1  , 7.24 );
                        kernels[16] = compute_kernel(x,   6.26  , 0.0  , 0.0  , 3.62  , 3.62  , 3.62  , 3.62  , 3.62  , 3.62  , 3.62  , 5.1  , 5.1  , 3.62  , 3.62  , 3.62  , 3.62  , 3.62  , 3.62  , 3.62  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 3.62  , 0.0  , 0.0  , 0.0  , 3.62  , 5.1  , 6.26  , 7.24  , 8.86  , 9.559999  , 10.219999  , 10.219999  , 10.219999  , 8.86  , 8.08  , 7.24  , 6.26  , 6.26  , 5.1  , 3.62 );
                        kernels[17] = compute_kernel(x,   6.26  , 6.26  , 6.26  , 6.26  , 5.1  , 5.1  , 5.1  , 3.62  , 3.62  , 3.62  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 3.62  , 3.62  , 3.62  , 6.26  , 8.08  , 9.559999  , 9.559999  , 10.219999  , 10.86  , 10.86  , 10.86  , 10.219999  , 9.559999  , 8.86  , 8.08  , 6.26  , 6.26  , 6.26  , 5.1  , 3.62  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 3.62 );
                        kernels[18] = compute_kernel(x,   3.62  , 6.26  , 5.1  , 5.1  , 0.0  , 3.62  , 3.62  , 3.62  , 3.62  , 3.62  , 3.62  , 5.1  , 6.26  , 6.26  , 5.1  , 3.62  , 3.62  , 3.62  , 3.62  , 3.62  , 3.62  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 3.62  , 0.0  , 0.0  , 0.0  , 3.62  , 5.1  , 6.26  , 8.08  , 8.86  , 9.559999  , 8.86  , 8.08  , 7.24  , 7.24  , 7.24  , 6.26  , 5.1 );
                        kernels[19] = compute_kernel(x,   28.039999  , 19.48  , 3.62  , 6.26  , 7.24  , 6.26  , 7.24  , 7.24  , 8.08  , 8.86  , 6.26  , 8.08  , 10.219999  , 11.44  , 12.0  , 12.0  , 11.44  , 10.86  , 10.86  , 10.219999  , 8.86  , 7.24  , 5.1  , 3.62  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 3.62  , 3.62  , 3.62  , 3.62  , 3.62  , 3.62  , 0.0  , 0.0 );
                        kernels[20] = compute_kernel(x,   8.86  , 9.559999  , 10.219999  , 10.86  , 10.219999  , 9.559999  , 8.86  , 7.24  , 5.1  , 5.1  , 3.62  , 3.62  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 3.62  , 5.1  , 5.1  , 6.26  , 6.26  , 6.26  , 7.24  , 7.24  , 7.24  , 7.24  , 7.24  , 7.24  , 6.26  , 5.1  , 5.1  , 3.62  , 3.62  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 3.62  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 3.62  , 3.62  , 3.62  , 3.62  , 3.62  , 0.0  , 0.0 );
                        kernels[21] = compute_kernel(x,   13.54  , 21.4  , 24.539999  , 28.26  , 16.98  , 14.02  , 9.559999  , 12.0  , 12.54  , 14.92  , 16.58  , 14.02  , 14.92  , 18.459999  , 20.779999  , 21.719999  , 20.779999  , 19.48  , 15.339999  , 12.54  , 13.04  , 13.04  , 11.44  , 8.86  , 6.26  , 3.62  , 3.62  , 3.62  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 3.62  , 5.1  , 5.1  , 6.26  , 7.24  , 8.86  , 9.559999  , 9.559999  , 8.86  , 8.08  , 7.24  , 6.26  , 3.62  , 3.62  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0  , 0.0 );
                        float decision = -0.300467377044;
                        decision = decision - ( + kernels[0] * -2.736112e-05  + kernels[1] * -1.03631e-07  + kernels[2] * -6.64854e-07  + kernels[3] * -0.000183430104  + kernels[4] * -1.7367e-07  + kernels[5] * -2.8238412e-05  + kernels[6] * -6.72545e-07  + kernels[7] * -2.3731497e-05  + kernels[8] * -1.9828606e-05  + kernels[9] * -0.000251213266  + kernels[10] * -3.372819e-06 );
                        decision = decision - ( + kernels[11] * 5.74683e-05  + kernels[12] * 2.3109458e-05  + kernels[13] * 1.4645383e-05  + kernels[14] * 2.0193724e-05  + kernels[15] * 9.45618e-07  + kernels[16] * 2.1983205e-05  + kernels[17] * 5.986267e-05  + kernels[18] * 0.000110784903  + kernels[19] * 0.000116118588  + kernels[20] * 8.179877e-05  + kernels[21] * 3.1879906e-05 );

                        return decision > 0 ? 0 : 1;
                    }

                    /**
                    * Convert class idx to readable name
                    */
                    const char* predictLabel(float *x) {
                        switch (predict(x)) {
                            case 0:
                            return "happy";
                            case 1:
                            return "sad";
                            default:
                            return "Houston we have a problem";
                        }
                    }

                protected:
                    /**
                    * Compute kernel between feature vector and support vector.
                    * Kernel type: poly
                    */
                    float compute_kernel(float *x, ...) {
                        va_list w;
                        va_start(w, 64);
                        float kernel = 0.0;

                        for (uint16_t i = 0; i < 64; i++) {
                            kernel += x[i] * va_arg(w, double);
                        }

                        return pow((0.1 * kernel) + 0.0, 2);
                    }
                };
            }
        }
    }
